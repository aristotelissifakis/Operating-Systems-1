Ερώτηση 1.
Δημιουργήστε στον τρέχοντα κατάλογο το αρχείο 'ask1.txt' με τα ακόλουθα περιεχόμενα (όνομα, επώνυμο, username, ΤΚ, περιοχή, τηλ.), και εμφανίστε το στη συνέχεια στην οθόνη, με αριθμημένες τις γραμμές του.

Απάντηση:
Για την δημιουργία του αρχείου 'ask1.txt' θα χρησιμοποιήσω την εντολή touch ή οποία δημιουργεί ένα αρχείο με όρισμα το όνομα του αρχείου. Στην προκειμένη περίπτωση η εντολή θα είναι: 'touch ask1.txt'.
Για να επεξεργαστώ το περιεχόμενο του αρχείου θα χρησιμοποιήσω την εντολή 'vi' η οποία δέχεται ως όρισμα το όνομα του αρχείου που θέλουμε να επεξεργαστούμε. Στην προκειμένη περίπτωση θα είναι: 'vi ask1.txt'.
Αφού ανοίξω το αρχείο, για να το επεξεργαστώ θα πατήσω το πλήκτρο i για να εισάγω κείμενο. Αμέσως μετά θα εισάγω το κείμενο που θέλω και θα πατήσω το πλήκτρο ESC για να τελειώσω την εισαγωγή κειμένου. Για να αποθηκεύσω το κείμενο και να σταματήσω την επεξεργασία του αρχείου θα γράψω ':x' και θα πατήσω ENTER.
Για να τυπώσω το περιεχόμενο του αρχείου στην οθόνη με αριθμημένες τις γραμμές του θα χρησιμοποιήσω την εντολή 'cat' με χρήση της παραμέτρου '-n' και ως όρισμα το όνομα του αρχείου. Στην προκειμένη περίπτωση θα είναι: 'cat -n ask1.txt'.

Το αποτέλεσμα εκτέλεσης της εντολής είναι το εξής:

    1  George Pappas george2 12136 Peristeri -------
    2  Nick Nikolaoy nick23 12232 Aigaleo 5314555
    3  George Georgioy george583 11132 Athens -------
    4  Helen Georgioy helen3 12136 Peristeri 5748456
    5  Nick Pappas nick4 11223 Aigaleo 5324123
    6  Helen Ioannoy helen367 13222 Athens -------
    7  Helen Thanoy helen36 11132 Peristeri 9718345
    8  Vasilis Mamalis vas32 12345 Dafni 9738383

Ερώτηση 2.
Τρέξτε την εντολή cal -3 > calfile.txt και εξηγείστε τι ακριβώς κάνει.

Απάντηση:
Μας βγάζει το ημερολόγιο και δείχνει σε ποια ημέρα βρισκόμαστε


Ερώτηση 3.
Συνενώστε τα αρχεία calfile.txt και ask1.txt σε ένα αρχείο με όνομα full.txt.

Απάντηση:
Η εντολή μας είναι η 'cat calfile.txt ask1.txt > full.txt'.


Ερώτηση 4.
Εμφανίστε στην οθόνη τα πέντε πιο πρόσφατα τροποποιημένα αρχεία του καταλόγου σας.

Απάντηση:
Η εντολή που θα χρησιμοποιήσουμε είναι η: 'ls -t | head -5'

Το αποτέλεσμα της εκτέλεσης της εντολής είναι το εξής:

full.txt
calfile.txt
ask1.txt

Ερώτηση 5.
Δημιουργήστε έναν κατάλογο με όνομα 'mydir1'. Μεταβείτε σε αυτόν και στη συνέχεια αντιγράψτε εκεί (χωρίς να αλλάξετε κατάλογο) το αρχείο 'full.txt' (από το γονικό κατάλογο). Μετονομάστε το εν συνεχεία σε 'new.txt'. Επιστρέψτε στο γονικό κατάλογο. Διαγράψτε τον κατάλογο 'mydir1' και τα περιεχόμενά του.

Απάντηση:
mkdir mydir
cd mydir
cp /home/chris/full.txt full.txt


Ερώτηση 6.
Δώστε τις εντολές που θα εμφανίσουν: (α) όλα τα αρχεία του καταλόγου /usr με πληροφορίες για το inode τους και το μέγεθος τους σε blocks. (β) όλα τα περιεχόμενα του δέντρου καταλόγων και υποκαταλόγων (αναδρομικά) που βρίσκονται κάτω από τον κατάλογο /usr, με πλήρεις πληροφορίες για κάθε ένα από αυτά και εμφανιζόμενα σταδιακά, σελίδα προς σελίδα.

Απάντηση:
α) Θα χρησιμοποιήσουμε την εντολή:
ls /usr -si

β) Θα χρησιμοποιήσουμε την εντολή tree:
tree /usr | more

Ερώτηση 7.
Δημιουργήστε έναν κατάλογο με όνομα 'testdir1'. Μεταβείτε σε αυτόν και φτιάξτε εκεί ένα hard link (με το όνομα 'ask1link') προς το αρχείο 'ask1.txt' του γονικού καταλόγου. Βεβαιωθείτε (δίνοντας την κατάλληλη εντολή και εξηγώντας τι βλέπετε) ότι έχει δημιουργηθεί και ότι δεν είναι symbolic (soft) link.

Απάντηση
mkdir testdir1
cd testdir1
ln/home/aristotelis/ask1.txt ask1link'.
ls -i
Tα αρχεία έχουν το ίδιο inode άρα ειναι hard link.

Ερώτηση 8.
Μπείτε στο αρχείο 'ask1link' και διαγράψτε την τελευταία του γραμμή. Βεβαιωθείτε στη συνέχεια ότι η αλλαγή αυτή έχει γίνει και στο αρχείο 'ask1.txt'.

Απάντηση
cd ask1link.txt
> sed '$d' ask1link.txt
cd ..
xd ask1.txt

Το περιεχόμενο του αρχείου και του hardlink είναι το εξής:

George Pappas george2 12136 Peristeri -------
Nick Nikolaoy nick23 12232 Aigaleo 5314555
George Georgioy george583 11132 Athens -------
Helen Georgioy helen3 12136 Peristeri 5748456
Nick Pappas nick4 11223 Aigaleo 5324123
Helen Ioannoy helen367 13222 Athens -------
Helen Thanoy helen36 11132 Peristeri 9718345

και βλέπουμε ότι έχει διαγραφεί η τελευταία γραμμή του αρχείου


Ερώτηση 9.

Δημιουργήστε ένα κατάλογο kat1 και μέσα σε αυτόν δύο αρχεία, file1 και file2, με περιεχόμενο τη λέξη 'one' το ένα και τη λέξη 'two' το άλλο. Τρέξτε (μέσα στον κατάλογο kat1) την εντολή 'cp *' και εξηγήστε το αποτέλεσμα. Στη συνέχεια τρέξτε την εντολή 'mv *' και εξηγήστε το αποτέλεσμα.

Απάντηση
Δημιουργούμε τον κατάλογο (mkdir kat1), μπαίνουμε στον κατάλογο (cd kat1) δημιουργούμε τα αρχεία (touch file1 file2) και τα επεξεργαζόμαστε βάζοντας one στο πρώτο και two στο δεύτερο ('vi file1', 'vi file2').
Χρησιμοποιώντας την εντολή 'cp *' έχουμε αντιγράψει το περιεχόμενο του αρχείου 'file1' στο αρχείο 'file2'. Γράφοντας 'mv *' η εντολή 'mv' χρειάζεται δύο ορίσματα. Έτσι με την χρήση του * αυτό που γίνεται ουσιαστικά είναι η εντολή 'mv file1 file2' "μεταφέροντας" το αρχείο file1 στο αρχείο file2.

Ερώτηση 10.

Εμφανίστε τις γραμμές του αρχείου 'ask1.txt' οι οποίες τελειώνουν με ένα ή περισσότερα συνεχόμενα ψηφία.

Απάντηση
Για να το κάνουμε αυτό θα χρησιμοποιήσουμε την εντολή 'grep'. Θα χρησιμοποιήσουμε τον δείκτη '-E' επειδή αναζητούμε extended regular expression. Ως όρισμα θα χρησιμοποιήσουμε πρώτα το '(.)\1{1,}$' και μετά το όνομα του αρχείου.
To '(.)\1{1,}$' σημαίνει: το . σημαίνει οποιοσδήποτε χαρακτήρας. Το \1 παίρνει τον 1 προηγούμενο χαρακτήρα που έχει επιλεχθεί και τον δίνει στην επόμενη έκφραση. Η έκφραση {1,} ελέγχει αν ο προηγούμενος χαρακτήρας επαναλαμβάνεται μία φορά μετά από το σημείο που βρισκόμαστε.
Συνολικά η εντολή είναι:

grep -E '(.)\1{1,}$' ask1.txt

και εμφανίζει:

George Pappas george2 12136 Peristeri -------
Nick Nikolaoy nick23 12232 Aigaleo 5314555
George Georgioy george583 11132 Athens -------
Helen Ioannoy helen367 13222 Athens -------

Ερώτηση 11.

Εμφανίστε τις γραμμές του αρχείου 'ask1.txt' οι οποίες περιέχουν μεν το πρότυπο 'Pap' αλλά δεν περιέχουν το πρότυπο 'Aig'.

Απάντηση
Η εντολή είναι:
grep -v Aig ask1.txt | grep Pap

και εμφανίζει: 

George Pappas george2 12136 Peristeri -------

Ερώτηση 12.
Εμφανίστε τις γραμμές του αρχείου 'ask1.txt' οι οποίες δεν αρχίζουν με 'G' ή 'N' και περιέχουν εν συνεχεία (κάπου στα περιεχόμενά τους) τα πρότυπα 'Geo' και 'Per' με αυτή τη σειρά.'

Απάντηση
H εντολή είναι η:

grep -v '^[GN]' ask1.txt | grep .Geo.*Per

και εμφανίζει:

Helen Georgioy helen3 12136 Peristeri 5748456

Ερώτηση 13.
Πόσοι χρήστες που το username τους δεν αρχίζει από 'ls1' είναι συνδεδεμένοι στο σύστημα ?

Απάντηση
H εντολή είναι η:

who | grep -v '^ls1'

Ερώτηση 14.
Εμφανίστε όλες τις διεργασίες χρηστών (αλλ/σης) που τρέχουν αυτή τη στιγμή στο σύστημα.

Απάντηση
H εντολή είναι:
ps -au 

Η εντολή εμφανίζει:

USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
aristotelis  354  0.0  0.1  10164  5252 pts/0    Ss   18:55   0:00 -bash
aristotelis   507  0.0  0.0   8160   672 pts/0    T    20:30   0:00 grep --color=auto -E -v Pap
aristotelis  508  0.0  0.0   8160   672 pts/0    T    20:30   0:00 grep --color=auto -E Aig
aristotelis   509  0.0  0.0   8160   732 pts/0    T    20:30   0:00 grep --color=auto -E -v Aig
aristotelis  510  0.0  0.0   8160   736 pts/0    T    20:30   0:00 grep --color=auto -E Pap
aristotelis   512  0.0  0.0   8160   728 pts/0    T    20:31   0:00 grep --color=auto -v aig
aristotelis   610  0.0  0.0  10616  3248 pts/0    R+   21:21   0:00 ps au

Ερώτηση 15.
Πόσες διεργασίες χρηστών (αλλ/σης) τρέχουν στο σύστημα και τελειώνει το όνομά τους με 'sh' ?

Απάντηση
H εντολή είναι:

ps -au | grep -c sh$

και εμφανίζει:

1

Ερώτηση 16.
Ποιες διεργασίες (πάσης μορφής) τρέχουν αυτή τη στιγμή από το λογαριασμό του διαχειριστή ?

Aπάντηση
Η εντολή είναι:
ps -aux | grep -c ^root

και εμφανίζει:

0

Ερώτηση 17.
Πόσα αρχεία του τρέχοντος καταλόγου σας (μόνο του τρέχοντος - όχι και των υποκαταλόγων του) έχουν permissions 'rw' από τους πάντες και 'x' από κανέναν ?

Απάντηση 
Η εντολή είναι:
ls -l|grep "^-rw-rw-rw-"

Ερώτηση 18.
Βρείτε τους καταλόγους του συστήματος που το όνομά τους αρχίζει από 'b'.

Απάντηση
Η εντολή είναι:
ls | grep "^b"

Ερώτηση 19.
Να βρείτε και να παρουσιάσετε στην οθόνη με πλήρεις πληροφορίες όλα τα αρχεία με όνομα που αρχίζει από tty και βρίσκονται στον κατάλογο /dev.

Απάντηση
Η εντολή είναι:
find /dev -name 'tty*' -ls

Ερώτηση 20.
Ταξινομήστε τα περιεχόμενα του αρχείου 'ask1.txt' ως προς το username σε φθίνουσα σειρά.

Απάντηση
H εντολή θα είναι:

sort -k 3 ask1.txt

και εμφανίζει:

George Pappas george2 12136 Peristeri -------
George Georgioy george583 11132 Athens -------
Helen Georgioy helen3 12136 Peristeri 5748456
Helen Thanoy helen36 11132 Peristeri 9718345
Helen Ioannoy helen367 13222 Athens -------
Nick Nikolaoy nick23 12232 Aigaleo 5314555
Nick Pappas nick4 11223 Aigaleo 5324123

Ερώτηση 21.
Ταξινομήστε τα '.c' αρχεία του καταλόγου στον οποίον δουλεύετε ως προς το μέγεθός τους.

Απάντηση
H εντολή είναι:
ls -l | grep .c$ | sort -rk 5

Ερώτηση 22.
Ταξινομήστε τα αρχεία του λογαριασμού σας με permissions 644 ως προς το μέγεθός τους.

Απάντηση
H εντολή είναι:
find -perm 644 | ls-l -S

Ερώτηση 23.
Ταξινομήστε όλα τα περιεχόμενα του καταλόγου /dev κατά πρώτον ως προς τον owner και κατά δεύτερον ως προς το group και αποθηκεύστε το output στο αρχείο 'binfiles.txt'.

Απάντηση
ls /dev -l | sort -k 3 -k 4 > binfiles.txt

Ερώτηση 24.
Φτιάξτε ένα αρχείο που θα περιέχει πληροφορίες μόνο για τους συνδεδεμένους χρήστες που το username τους αρχίζει από 'ls1', ταξινομημένο ως προς την ημερομηνία και ώρα σύνδεσή τους.

Απάντηση
H εντολή είναι:

w -h | grep ^ls1 | sort -k 4 > file.txt

Ερώτηση 25.
Αλλάξτε στο αρχείο 'ask1.txt' το όνομα 'Nick' (όπου συναντάται) σε 'Nickolaos'.

Απάντηση
sed 's/Nick/Nickolaos/' ask1.txt

Ερώτηση 26.
Έστω τα ακόλουθα items του file system με protection strings: (α) '-rwxr-x--x', (β) 'drwxr-x--- ' και (γ) 'drwx--x--x.
Εξηγείστε τι είδους items είναι και ποια τα δικαιώματα πρόσβασης user, group και others σε αυτά.

Απάντηση
Ο πρώτος χαρακτήρας του string μας δειχνει τι είδος item είναι.
Οι χαρακτήρες 2, 3, 4 αντιστοιχούν στον user, οι χαρακτήρες 5, 6, 7 στο group και οι χαρακτήρες 8, 9, 10 σε όλους του άλλους.
Οι τριάδες χαρακτήρων σημαίνουν: ο πρώτος χαρακτήρας αν έχει άδεια read, ο δεύτερος αν έχει άδεια write και ο τρίτος αν έχει άδεια execute. Αν είναι συμπληρωμένοι έχουν αυτό το permission, αν είναι - δεν το έχουν.
α) Αφού ο πρώτος χαρακτήρας είναι -, το αντικείμενο είναι αρχείο. O user έχει δικαιώματα read, write, execute. Το group έχει δικαιώματα read, execute. Οι others έχουν δικαιώματα execute.
β) Αφού ο πρώτος χαρακτήρας είναι 'd', το αντικείμενο είναι κατάλογος. Ο user έχει δικαιώματα read, write, execute. Το group έχει δικαιώματα read, execute. Οι others δεν έχουν δικαιώματα.
γ) Αφού ο πρώτος χαρακτήρας είναι 'd', το αντικείμενο είναι κατάλογος. Ο user έχει δικαιώματα read, write, execute. Το group έχει δικαιώματα execute. Οι others έχουν δικαιώματα execute.

Ερώτηση 27.
Αλλάξτε τα permissions όλων των αρχείων του καταλόγου 'testdir1' έτσι ώστε να έχουν δικαίωμα εκτέλεσης και
εγγραφής μόνο ο ιδιοκτήτης, ενώ δικαίωμα ανάγνωσης να έχουν όλοι.

Απάντηση
Τα permissions του ερωτήμσατος είναι τα rwx r-- r--.
Αν στα συμπληρωμένα πεδία βάλουμε 1 και στα ασυμπλήρωτα βάλουμε 0 έχουμε: 111 100 100.
Δηλαδή συνολικά τα permissions που θέλουμε να έχουν τα αρχεία είναι 744.
Για να δώσουμε τα δικαιώματα που θέλουμε πρώτα θα πρέπει να μεταβούμε στον φάκελο.
Στην συνέχεια θα εκτελέσουμε την εντολή 'chmod' με δείκτη '-R' για να επηρεάσουμε όλα τα περιεχόμενα αρχεία αναδρομικά.
Επίσης σαν όρισμα στην εντολή θα δώσουμε τον αριθμό 744 για τα permissions που θέλουμε και τέλος την τελεία '.' που σημαίνει το directory Που βρισκόμαστε τώρα.
Συνολικά η εντολή είναι:

chmod -R 744 .

και αν τρέξουμε την εντολή ls -l στον φάκελο για να δούμε τα permissions των αρχείων που περιέχονται στον φάκελο μας εμφανίζει:
-rwxr--r-- 2 constantdeenos constantdeenos 311 Dec 16 20:47 ask1link

Ερώτηση 28.
Αλλάξτε τα permissions του καταλόγου 'testdir1' έτσι ώστε να έχουν δικαίωμα πρόσβασης μόνο ο ιδιοκτήτης
και οι χρήστες του ιδίου με αυτόν group, ενώ οι υπόλοιποι χρήστες να μην έχουν (θεωρείστε ότι τα τρέχοντα
permissions του καταλόγου είναι 755).

Απάντηση
Αφού είμαστε στον φάκελο που βρίσκεται ο φάκελος που θέλουμε να επηρεάσουμε εκτελούμε την εντολή 'chmod 770 testdir1'.
Θέτουμε 770 ώστε να έχουμε permissions 111 για τον user, 111 για το group και 000 για τους others.

Ερώτηση 29.
Δημιουργήστε έναν νέο χρήστη στο σύστημά σας με username 'myfriend'. Αλλάξτε στη συνέχεια τον ιδιοκτήτη
του αρχείου 'ask1.txt' σε 'myfriend' και μετακινήστε το στο working directory του. Περιορίστε τέλος το
διαθέσιμο χώρο αποθήκευσης στο δίσκο για το συγκεκριμένο χρήστη στα 10MB.

Απάντηση
Για να δημιουργήσουμε έναν νέο χρήστη πρέπει να εισάγουμε την εντολή useradd με όρισμα το όνομα του χρήστη που θέλουμε να εισάγουμε.
Πρέπει να εκτελέσουμε την εντολή ως διαχειριστής. Για να το κάνουμε αυτό εισάγουμε από μπροστά το 'sudo'.
Για να έχει και home directory ο χρήστης πρέπει να χρησιμοποιήσουμε και τον δείκτη -m.
Η εντολή είναι: sudo useradd -m myfriend
Για να αλλάξουμε τον ιδιοκτήτη του αρχείου πρέπει πάλι ως διαχειριστές να εκτελέσουμε την εντολή 'chown' με όρισμα το αρχείο και τον χρήστη που θέλουμε να είναι ο ιδιοκτήτης.
Η εντολή είναι: sudo chown myfriend ask1.txt
Για να μετακινήσουμε το αρχείο στον φάκελο που θέλουμε θα χρησιμοποιήσουμε την εντολή:
sudo mv ask1.txt /home/myfriend
Για να περιοτίσουμε τον χώρο αποθήκευσης του χρήστη στον δίσκο θα χρησιμοποιήσουμε την εντολή 'quota'

Ερώτηση 30.
Δημιουργείστε τα αρχεία f1, f2, f3, f4, f5, f6 ,f7 με τα εξής δικαιώματα:
f1, 757
f2, 313
f3, 010
f4, 642
f5, 551
f6, 133
f7, 111
Με χρήση της εντολής ls –l και διοχετεύοντας τα αποτελέσματά της στην
εντολή egrep να βρείτε τα αρχεία όπου:
a. To group έχει δικαιώματα r-x.
b. Ο user και οι others έχουν ακριβώς τα ίδια δικαιώματα
c. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για write
d. Ο user, το group και οι others έχουν τα ίδια δικαιώματα για write και execute
e. To group και οι others έχουν τα ίδια δικαιώματα για read και execute

Απάντηση.
Για την δημιουργία των αρχείων εκτελούμε την εντολή touch f1 f2 f3 f4 f5 f6 f7.
Για να αλλάξουμε τα δικαιώματα χρησιμοποιούμε την εντολή 'chmod' με όρισμα τα permissions που θέλουμε και το όνομα του αρχείου.
π.χ. chmod 757 f1
Αυτό το κάνουμε για όλα τα αρχεία.
a) ls -l | egrep '^....r-x'
